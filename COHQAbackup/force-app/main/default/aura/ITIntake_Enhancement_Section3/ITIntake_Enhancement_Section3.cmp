<aura:component implements="flexipage:availableForAllPageTypes,force:hasRecordId,lightning:isUrlAddressable" controller="COH_Get_IT_IntakeRecords">
	<aura:handler name="init" value="{!this}" action="{!c.doInit}"/>
    <aura:attribute name="ITIntakeRecs" type="TPO_Project_Portfolio__c" default=""/>
    <aura:attribute name="isEdit" type="Boolean" default="false" description="Used to handle show /hide edit form"/>
    <aura:attribute name="activeSections" type="List" default="IT/Technical Lead Review" />
    <aura:attribute name="activeSectionsMessage" type="String" default="" />
    <lightning:accordion
                         allowMultipleSectionsOpen="true"
                         onsectiontoggle="{! c.handleSectionToggle }"
                         activeSectionName="{! v.activeSections }"
                         >
	
    <div class="slds-card slds-card_boundary" style="box-shadow: 0 2px 4px 4px rgba(0, 0, 0, 0.16);">
        <lightning:accordionSection name="IT/Technical Lead Review" label="IT/Technical Lead Review" >
        <!-- <h3 class="slds-section__title">
        	<button aria-controls="expando-unique-id" aria-expanded="true" class="slds-button slds-section__title-action">
            	<lightning:icon iconName="utility:chevrondown" alternativeText="Open" size="xx-small" class="slds-p-right_x-small"/>
                	<span class="slds-truncate" title="Section Title"> Epic Analyst Lead </span>   
            </button>
        </h3> -->
        <aura:if isTrue="{!v.isEdit == false}">
            <lightning:recordViewForm
                                      aura:id="ViewForm"
                                      recordId="{!v.recordId}"
                                      objectApiName="TPO_Project_Portfolio__c">
            <div class="slds-section slds-is-open slds-m-top_none">
                <lightning:messages />
                <center>
                	<div class="slds-m-top_medium">
                        <lightning:button label="Edit" variant="brand" name="Edit Details" onclick="{!c.handleEdit}"/>
                    </div>
                </center><br/>
                <div class="slds-p-left_medium">
                	<div class="slds-grid">
                    	<div class="slds-col--padded slds-large-size--6-of-12">
                        	<span class="slds-text-title_bold"> 
                                Technical Assessment and Estimates
                            </span>
                        </div>
                    </div>
                </div><br/><br/>
                <div class="slds-p-left_medium">
                	<div class="slds-grid">
                    	<div class="slds-col--padded slds-large-size--6-of-12">
                            <div class="slds-border_bottom">
                                <lightning:outputField fieldName="Primary_Application__c" />
                            </div>
                        </div>
                        <div class="slds-col--padded slds-large-size--6-of-12">
                        </div>
                    </div>
                </div>
                <div class="slds-p-left_medium">
                	<div class="slds-grid">
                    	<div class="slds-col--padded slds-large-size--6-of-12">
                            <div class="slds-border_bottom">
                                <lightning:outputField fieldName="Other_Impacted_Applications__c" />
                            </div>
                        </div>
                        <div class="slds-col--padded slds-large-size--6-of-12">
                        </div>
                    </div>
                </div>
                <div class="slds-p-left_medium">
                	<div class="slds-grid">
                    	<div class="slds-col--padded slds-large-size--6-of-12">
                            <div class="slds-border_bottom">
                                <lightning:outputField fieldName="Estimated_range_of_effort_in_hours__c" />
                            </div>
                        </div>
                        <div class="slds-col--padded slds-large-size--6-of-12">
                        </div>
                    </div>
                </div>
                <div class="slds-p-left_medium">
                	<div class="slds-grid">
                    	<div class="slds-col--padded slds-large-size--6-of-12">
                            <div class="slds-border_bottom">
                                <lightning:outputField fieldName="Technical_Requirements__c" />
                            </div>
                        </div>
                        <div class="slds-col--padded slds-large-size--6-of-12">
                        </div>
                    </div>
                </div><br/><br/>
                <div class="slds-p-left_medium">
                	<div class="slds-grid">
                    	<div class="slds-col--padded slds-large-size--6-of-12">
                        	<span class="slds-text-title_bold"> 
                                Assignments
                            </span>
                        </div>
                    </div>
                </div><br/><br/>
                <div class="slds-p-left_medium">
                	<div class="slds-grid">
                    	<div class="slds-col--padded slds-large-size--6-of-12">
                            <div class="slds-border_bottom">
                                <lightning:outputField fieldName="Assigned_Release_monthly_bundle__c" />
                            </div>
                        </div>
                        <div class="slds-col--padded slds-large-size--6-of-12">
                            <div class="slds-border_bottom">
                                <lightning:outputField fieldName="Assigned_To__c" />
                            </div>
                        </div>
                    </div>
                </div>
                <div class="slds-p-left_medium">
                	<div class="slds-grid">
                    	<div class="slds-col--padded slds-large-size--6-of-12">
                            <div class="slds-border_bottom">
                                <lightning:outputField fieldName="NotesText__c" />
                            </div>
                        </div>
                        <div class="slds-col--padded slds-large-size--6-of-12">
                        </div>
                    </div>
                </div>
            </div>
            </lightning:recordViewForm>
        </aura:if>
        <aura:if isTrue="{!v.isEdit == true}">
            
            <lightning:recordEditForm
                                      
                                      onsuccess="{!c.handleSuccess}"
                                      recordId="{!v.recordId}"
                                      objectApiName="TPO_Project_Portfolio__c">
                <!-- the messages component is for error messages -->
                <lightning:messages />
                <center>
                    <div class="slds-m-top_medium">
                        <lightning:button variant="brand" type="submit" name="Save" label="Save" />
                        <lightning:button label="Cancel" name="Cancel" onclick="{!c.handleCancel}"/>
                    </div>
                </center><br/>
                <div class="slds-p-left_medium">
                	<div class="slds-grid">
                    	<div class="slds-col--padded slds-large-size--6-of-12">
                        	<span class="slds-text-title_bold"> 
                                Technical Assessment and Estimates
                            </span>
                        </div>
                    </div>
                </div><br/><br/>
                <div class="slds-grid">
                    <div class="slds-col--padded slds-large-size--6-of-12"><lightning:inputField fieldName="Primary_Application__c"/></div>
                    <div class="slds-col--padded slds-large-size--6-of-12"></div>
                </div>
                <div class="slds-grid">
                    <div class="slds-col--padded slds-large-size--6-of-12"><lightning:inputField fieldName="Other_Impacted_Applications__c"/></div>
                    <div class="slds-col--padded slds-large-size--6-of-12"></div>
                </div>
                <div class="slds-grid">
                    <div class="slds-col--padded slds-large-size--6-of-12"><lightning:inputField fieldName="Estimated_range_of_effort_in_hours__c"/></div>
                    <div class="slds-col--padded slds-large-size--6-of-12"></div>
                </div>
                <div class="slds-grid">
                    <div class="slds-col--padded slds-large-size--6-of-12"><lightning:inputField fieldName="Technical_Requirements__c"/></div>
                    <div class="slds-col--padded slds-large-size--6-of-12"></div>
                </div><br/><br/>
                <div class="slds-p-left_medium">
                	<div class="slds-grid">
                    	<div class="slds-col--padded slds-large-size--6-of-12">
                        	<span class="slds-text-title_bold"> 
                                Assignments
                            </span>
                        </div>
                    </div>
                </div><br/><br/>
                <div class="slds-grid">
                    <div class="slds-col--padded slds-large-size--6-of-12"><lightning:inputField fieldName="Assigned_Release_monthly_bundle__c"/></div>
                    <div class="slds-col--padded slds-large-size--6-of-12"><lightning:inputField fieldName="Assigned_To__c"/></div>
                </div>
                <div class="slds-grid">
                    <div class="slds-col--padded slds-large-size--6-of-12"><lightning:inputField fieldName="NotesText__c"/></div>
                    <div class="slds-col--padded slds-large-size--6-of-12"></div>
                </div>
            </lightning:recordEditForm>
        </aura:if>
        </lightning:accordionSection>
    </div>
    </lightning:accordion>
</aura:component>