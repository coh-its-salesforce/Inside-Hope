<aura:component implements="flexipage:availableForAllPageTypes,force:hasRecordId,lightning:isUrlAddressable" >
	<!-- <aura:handler name="init" value="{!this}" action="{!c.doInit}"/>
    <aura:attribute name="ITIntakeRecs" type="TPO_Project_Portfolio__c" default=""/> -->
    <aura:attribute name="isEdit" type="Boolean" default="false" description="Used to handle show /hide edit form"/>
    <aura:attribute name="activeSections" type="List" default="Disposition" />
    <aura:attribute name="activeSectionsMessage" type="String" default="" />
    <lightning:accordion
                         allowMultipleSectionsOpen="true"
                         onsectiontoggle="{! c.handleSectionToggle }"
                         activeSectionName="{! v.activeSections }"
                         >
	
    <div class="slds-card slds-card_boundary" style="box-shadow: 0 2px 4px 4px rgba(0, 0, 0, 0.16);">
        <!-- <h3 class="slds-section__title">
        	<button aria-controls="expando-unique-id" aria-expanded="true" class="slds-button slds-section__title-action">
            	<lightning:icon iconName="utility:chevrondown" alternativeText="Open" size="xx-small" class="slds-p-right_x-small"/>
                	<span class="slds-truncate" title="Section Title"> Authorized Approver (CMIO) </span>   
            </button>
        </h3> -->
        <aura:if isTrue="{!v.isEdit == false}">
            <lightning:recordViewForm
                                      aura:id="ViewForm"
                                      recordId="{!v.recordId}"
                                      objectApiName="TPO_Project_Portfolio__c">
            <div class="slds-section slds-is-open slds-m-top_none">
                <lightning:messages />
                <lightning:accordionSection name="Disposition" label="Disposition" >
                <center>
                	<div class="slds-m-top_medium">
                        <lightning:button label="Edit" variant="brand" name="Edit Details" onclick="{!c.handleEdit}"/>
                    </div>
                </center><br/>
                <div class="slds-p-left_medium">
                	<div class="slds-grid">
                    	<div class="slds-col--padded slds-large-size--6-of-12">
                            <div class="slds-border_bottom">
                                <lightning:outputField fieldName="Final_Disposition__c" />
                            </div>
                        </div>
                        <div class="slds-col--padded slds-large-size--6-of-12">
                            <div class="slds-border_bottom">
                                <lightning:outputField fieldName="Final_Disposition_Notes__c" />
                            </div>
                        </div>
                    </div>
                </div><br/>
                </lightning:accordionSection>
                </div>
            </lightning:recordViewForm>
        </aura:if>
        <aura:if isTrue="{!v.isEdit == true}">
            
            <lightning:recordEditForm
                                      
                                      onsuccess="{!c.handleSuccess}"
                                      recordId="{!v.recordId}"
                                      objectApiName="TPO_Project_Portfolio__c">
                <!-- the messages component is for error messages -->
                <lightning:messages />
                <lightning:accordionSection name="Disposition" label="Disposition" >
                <center>
                    <div class="slds-m-top_medium">
                        <lightning:button variant="brand" type="submit" name="Save" label="Save" />
                        <lightning:button label="Cancel" name="Cancel" onclick="{!c.handleCancel}"/>
                    </div>
                </center><br/>
                <div class="slds-grid">
                    <div class="slds-col--padded slds-large-size--6-of-12"><lightning:inputField fieldName="Final_Disposition__c"/></div>
                    <div class="slds-col--padded slds-large-size--6-of-12"><lightning:inputField fieldName="Final_Disposition_Notes__c"/></div>
                </div>
                </lightning:accordionSection>
            </lightning:recordEditForm>
        </aura:if>
    </div>
    </lightning:accordion>
</aura:component>